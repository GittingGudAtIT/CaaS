
<div class="d-flex flex-row-reverse mb-3">
  <a class="btn btn-danger p-2" [routerLink]="returnUrl" [queryParams]="params">
    <div class="d-flex justify-content-center p-1">
      <span class="material-symbols-outlined">
        arrow_back_ios
      </span>
      Back
    </div>
  </a>
</div>
<div class="border" *ngIf="product">
  <div class="row widget-header border-bottom p-1 align-items-center">
    <div class="col-5 col-sm-3 col-md-2">
      Product-ID
    </div>
    <div class="col-7 col-sm-7 col-md-8">
      {{product.id}}
    </div>
    <div class="col-12 col-sm-2 d-flex justify-content-end">
      <button type="button" class="btn btn-danger px-2 py-2 my-1" (click)="deleteClick()">
        <div class="d-flex align-items-center">
          <span class="material-symbols-outlined">
            delete
          </span>
          <div class="px-1"></div>
          Delete
        </div>
      </button>
    </div>
  </div>
  <div class="row p-1">
    <div class="col-5 col-sm-3 col-md-2">
      Name
    </div>
    <div class="col-7 col-sm-9 col-md-10">
      {{product.name}}
    </div>
  </div>
  <div class="row p-1">
    <div class="col-5 col-sm-3 col-md-2">
      Price
    </div>
    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
      <caas-amount-control [min]="0" [allowDecimal]="true" [amount]="product.price" (valueChangedEvent)="priceChanged($event)"></caas-amount-control>
    </div>
  </div>
  <div class="row p-1">
    <div class="col-5 col-sm-3 col-md-2">
      Description
    </div>
    <div class="col-7 col-sm-9 col-md-10">
      {{product.description}}
    </div>
  </div>
  <div class="row p-1">
    <div class="col-5 col-sm-3 col-md-2">
      Download Link
    </div>
    <div class="col-7 col-sm-9 col-md-10 text-truncate">
      <a [href]="product.downloadLink">{{product.downloadLink}}</a>
    </div>
  </div>
  <div *ngIf="discounts?.length">
    <div class="row widget-header border-bottom border-top mt-2 p-1">
      <div class="col-12">Active Discounts</div>
    </div>
    <div *ngFor="let d of discounts" class="row border-bottom p-1">
      <div class="col-5 col-sm-3 col-md-2">
        {{d.tag}}
      </div>
      <div class="col-7 col-sm-9 col-md-10">
        {{d.description}}
      </div>
    </div>
  </div>
</div>
<b class="d-flex flex-row-reverse mt-4" *ngIf="submited">Price has been updated!</b>
<div class="d-flex flex-row-reverse mt-3">
  <button type="submit" class="btn btn-primary p-2" [disabled]="submited || initialPrice === product.price" (click)="submit()">
    <div class="d-flex justify-content-center p-1">
      <span class="material-symbols-outlined">
        Done
      </span>
      <div class="m-1"></div>
      Submit
    </div>
  </button>
</div>

